[buildout]
parts +=
    monit-compile
    monit-ctl
    monit-conf
    monit-rc

[monit-compile]
recipe = zc.recipe.cmmi
url = http://mmonit.com/monit/dist/monit-5.5.1.tar.gz
extra_options =
    --without-pam
    --without-ssl

[monit-ctl]
recipe = collective.recipe.template[genshi]
input = ${buildout:directory}/buildout-configs/templates/monitctl.tpl
output = ${buildout:bin-directory}/monit
mode = 0755

[monit-conf]
recipe = collective.recipe.template[genshi]:genshi
input = ${buildout:directory}/buildout-configs/templates/monitconf.tpl
output = ${buildout:directory}/etc/monit.conf
mode = 0700

[monit-rc]
recipe = collective.recipe.template[genshi]
input = ${buildout:directory}/buildout-configs/templates/monitrc.tpl
output = ${buildout:directory}/etc/rc.d/monit
